import{r as c,J as K,e as S,D as Q,o as d,c as _,a as n,u as I,w as t,F as j,y as F,Z as W,d as l,b as i,t as p,f as u,E as z,n as X,B as Y,I as ee,_ as ne,h as te,i as oe,k as le,l as ae,m as se,j as ie,p as re,q as de,M as ue}from"./app-41248ce0.js";import{_ as pe}from"./AuthenticatedLayout-5e0086bd.js";import{S as me}from"./SearchOutlined-f1cee73d.js";import{E as _e}from"./EyeOutlined-405766e7.js";import{F as ve}from"./FormOutlined-a8838767.js";import{D as ge}from"./DeleteOutlined-2c813ff6.js";import"./logotiny-c4b525af.js";import"./Header-42a0cf82.js";import"./AntdIcon-eed1c809.js";import"./DownOutlined-bf89d1ad.js";/* empty css                                                            */const ce={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4",style:{height:"calc(100vh - 98px)"}},fe={class:"mr-3"},xe={class:"flex justify-between",style:{position:"relative"}},ye={style:{}},be={key:0},Ie={style:{"font-size":".9rem"}},ke={key:1},we={style:{"font-size":".9rem"}},Ce={key:2},Fe={style:{"font-size":".9rem"}},ze={key:3},De={style:{"font-size":".9rem"}},he={key:4,class:"flex",style:{"justify-content":"center"}},Ne={key:5,class:"flex",style:{"justify-content":"center"}},Oe={key:0},Ue={key:1},Ee={class:"flex",style:{"justify-content":"flex-end"}},Le={__name:"index",setup(Me){const k=c(""),w=c(1),D=c(null),x=c(!1);c("");const h=c([]),N=c(),o=K({id:null,dni:null,nombres:"",paterno:"",nombres:"",materno:"",motivo:"",observacion:"",id_proceso:null}),A=()=>{x.value=!0,o.id=null,o.dni=null,o.nombres=null,o.paterno=null,o.materno=null,o.motivo=null,o.id_proceso=null};let O;S(k,(s,e)=>{clearTimeout(O),O=setTimeout(()=>{y()},500)}),S(w,(s,e)=>{y()});const B=s=>{x.value=!0,o.id=s.id,o.dni=s.dni,o.nombres=s.nombres,o.paterno=s.paterno,o.materno=s.materno,o.motivo=s.motivo,o.id_proceso=s.id_proceso},y=async(s="")=>{let e=await F.post("get-pagos-bn-admision?page="+w.value,{term:k.value});h.value=e.data.datos.data,D.value=e.data.datos.total},V=async()=>{await N.value.validateFields(),F.post("save-observado",o).then(s=>{y(),o.value={id:null,dni:null,nombres:"",paterno:"",nombres:"",materno:"",motivo:"",observacion:"",id_proceso:null},U(s.data.tipo,s.data.titulo,""),o.id=null,o.dni=null,o.nombres=null,o.paterno=null,o.materno=null,o.motivo=null,o.id_proceso=null,x.value=!1})},q=s=>{F.get("eliminar-programa/"+s.id).then(e=>{y(),U("warning","PROGRAMA ELIMINADO",e.data.mensaje)})},P=[{title:"Secuencia",dataIndex:"secuencia",width:"100px",align:"center",responsive:["md"]},{title:"Dni",dataIndex:"dni",width:"100px",align:"center",responsive:["md"]},{title:"Nombre",dataIndex:"nom_cli"},{title:"Concepto",dataIndex:"concepto",align:"center",responsive:["md"]},{title:"Fecha",dataIndex:"fch_pag",align:"center",width:"150px",responsive:["md"]},{title:"Monto",dataIndex:"imp_pag",align:"center",width:"150px",responsive:["md"]},{title:"Acciones",dataIndex:"acciones",width:"90px",align:"center"}],U=(s,e,v)=>{X[s]({message:e,description:v})},$=s=>{console.log("Detalle:",s)};return y(),(s,e)=>{const v=Y,f=ee,G=Q("row"),b=ne,R=te,T=oe,m=le,g=ae,C=se,L=ie,J=re,Z=de,H=ue;return d(),_(j,null,[n(I(W),{title:"Pagos"}),n(pe,null,{default:t(()=>[l("div",ce,[n(G,{class:"flex justify-between mb-4"},{default:t(()=>[l("div",fe,[n(v,{type:"primary",style:{"border-radius":"5px",background:"#476175",border:"none"},onClick:A},{default:t(()=>e[11]||(e[11]=[i("Agregar")])),_:1})]),l("div",xe,[n(f,{type:"text",placeholder:"Buscar",value:k.value,"onUpdate:value":e[0]||(e[0]=a=>k.value=a),style:{"max-width":"300px","padding-left":"10px"}},{prefix:t(()=>[n(I(me))]),_:1},8,["value"])])]),_:1}),l("div",ye,[n(R,{columns:P,"data-source":h.value,pagination:!1,size:"small",scroll:{x:380,y:"calc(100vh - 240px)"}},{bodyCell:t(({column:a,index:E,record:r})=>[a.dataIndex==="dni"?(d(),_("div",be,[l("span",Ie,p(r.dni),1)])):u("",!0),a.dataIndex==="nombres"?(d(),_("div",ke,[l("span",we,p(r.paterno)+" "+p(r.materno)+" "+p(r.nombres),1)])):u("",!0),a.dataIndex==="motivo"?(d(),_("div",Ce,[l("span",Fe,p(r.motivo),1)])):u("",!0),a.dataIndex==="id_proceso"?(d(),_("div",ze,[l("span",De,p(r.nombre_proceso),1)])):u("",!0),a.dataIndex==="area"?(d(),_("div",he,[r.area=="BIOMÉDICAS"?(d(),z(b,{key:0,style:{"font-size":".8rem"},color:"cyan"},{default:t(()=>[i(p(r.area),1)]),_:2},1024)):u("",!0),r.area=="SOCIALES"?(d(),z(b,{key:1,style:{"font-size":".8rem"},color:"purple"},{default:t(()=>[i(p(r.area),1)]),_:2},1024)):u("",!0),r.area=="INGENIERÍAS"?(d(),z(b,{key:2,style:{"font-size":".8rem"},color:"blue"},{default:t(()=>[i(p(r.area),1)]),_:2},1024)):u("",!0)])):u("",!0),a.dataIndex==="estado"?(d(),_("div",Ne,[r.estado==1?(d(),_("div",Oe,[n(b,{color:"green"},{default:t(()=>e[12]||(e[12]=[i("Si")])),_:1})])):u("",!0),r.estado==0?(d(),_("div",Ue,[n(b,{color:"red"},{default:t(()=>e[13]||(e[13]=[i("No")])),_:1})])):u("",!0)])):u("",!0),a.dataIndex==="acciones"?(d(),_(j,{key:6},[n(v,{disabled:"",type:"",onClick:M=>$(r),style:{"border-radius":"4px",background:"none",color:"green"},size:"small"},{icon:t(()=>[n(I(_e))]),_:2},1032,["onClick"]),n(v,{type:"",onClick:M=>B(r),style:{"border-radius":"4px",background:"none",color:"gray"},size:"small"},{icon:t(()=>[n(I(ve))]),_:2},1032,["onClick"]),n(v,{class:"",onClick:M=>q(r),style:{"border-radius":"4px",background:"none",color:"red"},shape:"",size:"small"},{icon:t(()=>[n(I(ge))]),_:2},1032,["onClick"])],64)):u("",!0)]),_:1},8,["data-source"])]),l("div",Ee,[n(T,{current:w.value,"onUpdate:current":e[1]||(e[1]=a=>w.value=a),simple:"","page-size":"50",total:D.value},null,8,["current","total"])])]),l("div",null,[n(H,{visible:x.value,"onUpdate:visible":e[10]||(e[10]=a=>x.value=a),style:{"margin-top":"-40px"}},{footer:t(()=>[n(v,{style:{"margin-left":"10px"},onClick:s.resetForm},{default:t(()=>e[22]||(e[22]=[i("Cancelar")])),_:1},8,["onClick"]),n(v,{type:"primary",onClick:e[9]||(e[9]=a=>V())},{default:t(()=>e[23]||(e[23]=[i("Guardar")])),_:1})]),default:t(()=>[n(Z,{ref_key:"formObservados",ref:N,model:o,name:"observado",onFinish:s.onFinish,onFinishFailed:s.onFinishFailed},{default:t(()=>[l("div",null,[e[21]||(e[21]=l("div",{style:{"margin-bottom":"16px","margin-top":"0px"}},[l("h1",{style:{"font-size":"1.2rem"}},"Observados")],-1)),n(C,{gutter:[16,0],class:"form-row mb-0"},{default:t(()=>[n(g,{span:24,md:12,lg:12,xl:12,xxl:12},{default:t(()=>[n(m,null,{default:t(()=>[e[14]||(e[14]=l("div",null,[l("label",null,[i("DNI ("),l("span",{style:{color:"red"}},"*"),i(")")])],-1)),n(m,{name:"dni",rules:[{required:!0,message:"Ingresa el DNI",trigger:"change"}]},{default:t(()=>[n(f,{value:o.dni,"onUpdate:value":e[2]||(e[2]=a=>o.dni=a)},null,8,["value"])]),_:1})]),_:1})]),_:1}),n(g,{span:24,md:12,lg:12,xl:12,xxl:12},{default:t(()=>[n(m,null,{default:t(()=>[e[15]||(e[15]=l("div",null,[l("label",null,[i("Nombres ("),l("span",{style:{color:"red"}},"*"),i(")")])],-1)),n(m,{name:"nombres",rules:[{required:!0,message:"Ingresa los nombres",trigger:"change"}]},{default:t(()=>[n(f,{value:o.nombres,"onUpdate:value":e[3]||(e[3]=a=>o.nombres=a)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),n(C,{gutter:[16,0],class:"form-row mb-0"},{default:t(()=>[n(g,{span:24,md:12,lg:12,xl:12,xxl:12},{default:t(()=>[n(m,null,{default:t(()=>[e[16]||(e[16]=l("div",null,[l("label",null,[i("Paterno ("),l("span",{style:{color:"red"}},"*"),i(")")])],-1)),n(m,{name:"paterno",rules:[{required:!0,message:"Ingresa el apellido paterno",trigger:"change"}]},{default:t(()=>[n(f,{value:o.paterno,"onUpdate:value":e[4]||(e[4]=a=>o.paterno=a)},null,8,["value"])]),_:1})]),_:1})]),_:1}),n(g,{span:24,md:12,lg:12,xl:12,xxl:12},{default:t(()=>[e[17]||(e[17]=l("div",null,[l("label",null,[i("Materno ("),l("span",{style:{color:"red"}},"*"),i(")")])],-1)),n(m,{name:"materno",rules:[{required:!0,message:"Ingresa el apellido materno",trigger:"change"}]},{default:t(()=>[n(f,{value:o.materno,"onUpdate:value":e[5]||(e[5]=a=>o.materno=a)},null,8,["value"])]),_:1})]),_:1})]),_:1}),n(C,{gutter:[16,0],class:"form-row",style:{"margin-top":"-20px"}},{default:t(()=>[n(g,{span:24,md:12,lg:12,xl:8,xxl:8},{default:t(()=>[n(m,{name:"motivo",rules:[{required:!0,message:"Ingresa un motivo",trigger:"change"}]},{default:t(()=>[e[18]||(e[18]=l("div",null,[l("label",null,[i("Motivo ("),l("span",{style:{color:"red"}},"*"),i(")")])],-1)),n(f,{value:o.motivo,"onUpdate:value":e[6]||(e[6]=a=>o.motivo=a)},null,8,["value"])]),_:1})]),_:1}),n(g,{span:24,md:12,lg:12,xl:16,xxl:16},{default:t(()=>[n(m,{name:"id_proceso",rules:[{required:!0,message:"Ingresa el ID de proceso",trigger:"change"}]},{default:t(()=>[e[19]||(e[19]=l("div",{class:"flex justify-between"},[l("label",null,[i("Proceso ("),l("span",{style:{color:"red"}},"*"),i(")")])],-1)),n(L,{value:o.id_proceso,"onUpdate:value":e[7]||(e[7]=a=>o.id_proceso=a),options:s.facultades,style:{width:"100%"},onChange:s.handleChange},{option:t(({label:a,value:E})=>[l("span",null,p(a)+" (ID: "+p(E)+")",1)]),_:1},8,["value","options","onChange"])]),_:1})]),_:1}),n(g,{span:24,md:24,lg:24,xl:24,xxl:24},{default:t(()=>[n(m,{name:"observacion"},{default:t(()=>[e[20]||(e[20]=l("div",null,[l("label",null,"Observación:")],-1)),n(J,{value:o.observacion,"onUpdate:value":e[8]||(e[8]=a=>o.observacion=a)},null,8,["value"])]),_:1})]),_:1})]),_:1})])]),_:1},8,["model","onFinish","onFinishFailed"])]),_:1},8,["visible"])])]),_:1})],64)}}};export{Le as default};
