import{r as m,J as h,a1 as ee,e as N,D as k,o as c,c as V,a as l,u as g,w as o,F as E,y as F,Z as le,d as i,E as B,f as U,b as p,t as q,a2 as oe,n as ae,I as ne,B as te,H as ie,h as se,i as de,S as ue,j as re,k as pe,l as me,V as _e,m as fe,q as ve,O as ge,M as be}from"./app-4942be61.js";import{_ as ce}from"./AuthenticatedLayout-9891cd53.js";import{f as xe}from"./index-f87dae7d.js";import{S as O}from"./SearchOutlined-b4560e30.js";import{E as ye}from"./EyeOutlined-03135bb2.js";import{F as we}from"./FormOutlined-278afc0f.js";import{D as Ce}from"./DeleteOutlined-a4fb5685.js";import"./logotiny-c4b525af.js";import"./Header-cf7aa195.js";import"./AntdIcon-7f1e898e.js";import"./DownOutlined-8a0e9428.js";/* empty css                                                            */const ke={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},Ue={class:"flex justify-between",style:{position:"relative"}},Pe={key:2,style:{display:"flex",gap:"2px"}},Ie={class:"flex justify-end"},Ae={__name:"index",setup(De){m("");const S=t=>{_.value=!0,a.id=t.id,a.nro_doc=t.nro_doc,a.tipo_doc=t.tipo_doc,a.primer_apellido=t.primer_apellido,a.segundo_apellido=t.segundo_apellido,a.apellido_casada=t.apellido_casada,a.nombres=t.nombres,a.sexo=t.sexo,a.fec_nacimiento=oe(t.fec_nacimiento),a.ubigeo_nacimiento=t.ubigeo_nacimiento,a.ubigeo_residencia=t.ubigeo_residencia,a.celular=t.celular,a.email=t.email,a.estado_civil=t.estado_civil,a.direccion=t.direccion,a.anio_egreso=t.anio_egreso,a.observaciones=t.observaciones,a.id_colegio=t.id_colegio},a=h({nro_doc:"",tipo_doc:"",primer_apellido:"",segundo_apellido:"",apellido_casada:"",nombres:"",sexo:"",fec_nacimiento:"",ubigeo_nacimiento:"",ubigeo_residencia:"",discapacidad:"",tipo_discapacidad:"",celular:"",email:"",estado_civil:"",direccion:"",anio_egreso:"",observaciones:"",id_colegio:""}),j=async()=>{let t=await F.post("save-postulante-admin",{id:a.id,tipo_doc:a.tipo_doc,nro_doc:a.nro_doc,primer_apellido:a.primer_apellido,segundo_apellido:a.segundo_apellido,apellido_casada:a.apellido_casada,nombres:a.nombres,sexo:a.sexo,fec_nacimiento:xe(new Date(a.fec_nacimiento),"yyyy-MM-dd"),ubigeo_nacimiento:a.ubigeo_nacimiento,ubigeo_residencia:a.ubigeo_residencia,celular:a.celular,correo:a.email,estado_civil:a.estado_civil,direccion:a.direccion,egreso:a.anio_egreso,observaciones:a.observaciones,colegio:a.id_colegio});_.value=!1,t.data.estado===!0&&A(t.data.tipo,t.data.titulo,t.data.mensaje),C()};ee(()=>{});const x=m(""),y=m([]);m([]);const _=m(!1),w=m(1),M=m(null),$=m({id:null,codigo:"",nombre:""});N(x,(t,e)=>{C()}),N(_,(t,e)=>{_.value==!1&&$.value.id!=null&&(a.value=null)});const C=async()=>{let t=await F.post("get-postulantes-admin?page="+w.value,{term:x.value});y.value=t.data.datos.data,M.value=t.data.datos.total},z=[{title:"Ver",dataIndex:"ver_postulante"},{title:"DNI",dataIndex:"nro_doc"},{title:"Nombre",dataIndex:"nombres"},{title:"Celular",dataIndex:"celular"},{title:"F. Nac",dataIndex:"fec_nacimiento"},{title:"Ubigeo",dataIndex:"ubigeo_residencia"},{title:"colegios",dataIndex:"id_colegio"},{title:"Acciones",dataIndex:"acciones"}],A=(t,e,u)=>{ae[t]({message:e,description:u})};N(w,(t,e)=>{C()});const Y=async t=>{try{window.location.href="postulante-perfil/"+t}catch(e){console.error(e)}};return C(),(t,e)=>{const u=ne,R=k("row"),b=te,T=k("link-outlined"),G=ie,H=se,J=de,f=ue,P=re,d=pe,s=me,r=k("search-"),Z=k("search"),K=_e,I=fe,L=ve,Q=ge,W=be;return c(),V(E,null,[l(g(le),{title:"Postulantes"}),l(ce,null,{default:o(()=>[i("div",ke,[l(R,{class:"flex justify-between mb-4"},{default:o(()=>[e[21]||(e[21]=i("div",{class:"mr-0 pt-2"},[i("span",{style:{"font-size":"1.2rem","font-weight":"bold"}},"Postulantes")],-1)),i("div",Ue,[l(u,{type:"text",placeholder:"Buscar",value:x.value,"onUpdate:value":e[0]||(e[0]=n=>x.value=n),style:{"max-width":"300px"}},{prefix:o(()=>[l(g(O))]),_:1},8,["value"])])]),_:1}),l(H,{columns:z,"data-source":y.value,pagination:!1,size:"small"},{bodyCell:o(({column:n,index:X,record:v})=>[n.dataIndex==="ver_postulante"?(c(),B(b,{key:0,onClick:D=>Y(v.nro_doc),size:"small",style:{background:"white",height:"28px",border:"1px solid #d9d9d9",color:"#000080a0",display:"flex","align-items":"center"}},{default:o(()=>[l(g(ye))]),_:2},1032,["onClick"])):U("",!0),n.dataIndex==="nombres"?(c(),V(E,{key:1},[p(q(v.nombres)+" "+q(v.primer_apellido)+" "+q(v.segundo_apellido),1)],64)):U("",!0),n.dataIndex==="acciones"?(c(),V("div",Pe,[l(b,{onClick:D=>S(v),size:"small",style:{background:"white",height:"28px",border:"1px solid #d9d9d9",color:"#1890ff",display:"flex","align-items":"center"}},{default:o(()=>[l(g(we))]),_:2},1032,["onClick"]),l(T),y.value.length?(c(),B(G,{key:0,title:"¿Estas seguro de eliminar?",onConfirm:D=>t.eliminar(y.value[X])},{default:o(()=>[l(b,{onClick:D=>t.eliminar(v),size:"small",style:{background:"white",height:"28px",border:"1px solid #d9d9d9",color:"#ff4d4f",display:"flex","align-items":"center"}},{default:o(()=>[l(g(Ce))]),_:2},1032,["onClick"])]),_:2},1032,["onConfirm"])):U("",!0)])):U("",!0)]),_:1},8,["data-source"]),l(J,{current:w.value,"onUpdate:current":e[1]||(e[1]=n=>w.value=n),total:M.value,"show-less-items":""},null,8,["current","total"])]),i("div",null,[l(W,{visible:_.value,"onUpdate:visible":e[20]||(e[20]=n=>_.value=n),title:"Postulante",style:{"margin-top":"-40px",width:"100%"},footer:!1},{default:o(()=>[l(I,null,{default:o(()=>[l(s,{span:24},{default:o(()=>[l(Q,{bordered:!1},{default:o(()=>[l(L,{model:a,rules:t.formRules},{default:o(()=>[l(I,{gutter:16},{default:o(()=>[l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[24]||(e[24]=i("label",null,"Tipo Doc",-1)),l(d,null,{default:o(()=>[l(P,{value:a.tipo_doc,"onUpdate:value":e[2]||(e[2]=n=>a.tipo_doc=n)},{default:o(()=>[l(f,{value:1},{default:o(()=>e[22]||(e[22]=[p("DNI")])),_:1}),l(f,{value:3},{default:o(()=>e[23]||(e[23]=[p("Carné Ext.")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[25]||(e[25]=i("label",null,"DNI",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el número de documento"}]},{default:o(()=>[l(u,{value:a.nro_doc,"onUpdate:value":e[3]||(e[3]=n=>a.nro_doc=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[26]||(e[26]=i("label",null,"Ap. Paterno",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el primer apellido"}]},{default:o(()=>[l(u,{value:a.primer_apellido,"onUpdate:value":e[4]||(e[4]=n=>a.primer_apellido=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[27]||(e[27]=i("label",null,"Ap. Materno",-1)),l(d,null,{default:o(()=>[l(u,{value:a.segundo_apellido,"onUpdate:value":e[5]||(e[5]=n=>a.segundo_apellido=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[28]||(e[28]=i("label",null,"Ap. Casada",-1)),l(d,null,{default:o(()=>[l(u,{value:a.apellido_casada,"onUpdate:value":e[6]||(e[6]=n=>a.apellido_casada=n)},{prefix:o(()=>[l(Z)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[29]||(e[29]=i("label",null,"Nombres",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese los nombres"}]},{default:o(()=>[l(u,{value:a.nombres,"onUpdate:value":e[7]||(e[7]=n=>a.nombres=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[32]||(e[32]=i("label",null,"Sexo",-1)),l(d,{rules:[{required:!0,message:"Por favor seleccione el sexo"}]},{default:o(()=>[l(P,{value:a.sexo,"onUpdate:value":e[8]||(e[8]=n=>a.sexo=n)},{default:o(()=>[l(f,{value:"1"},{default:o(()=>e[30]||(e[30]=[p("Masculino")])),_:1}),l(f,{value:"2"},{default:o(()=>e[31]||(e[31]=[p("Femenino")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[33]||(e[33]=i("label",null,"Fec. Nacimiento",-1)),l(d,{rules:[{required:!0,message:"Por favor seleccione la fecha de nacimiento"}]},{default:o(()=>[l(K,{style:{width:"100%"},value:a.fec_nacimiento,"onUpdate:value":e[9]||(e[9]=n=>a.fec_nacimiento=n),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[34]||(e[34]=i("label",null,"Ubigeo Nacimiento",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de nacimiento"}]},{default:o(()=>[l(u,{value:a.ubigeo_nacimiento,"onUpdate:value":e[10]||(e[10]=n=>a.ubigeo_nacimiento=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[35]||(e[35]=i("label",null,"Ubigeo residencia",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el ubigeo de residencia"}]},{default:o(()=>[l(u,{value:a.ubigeo_residencia,"onUpdate:value":e[11]||(e[11]=n=>a.ubigeo_residencia=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[36]||(e[36]=i("label",null,"Celular",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el número de celular"}]},{default:o(()=>[l(u,{value:a.celular,"onUpdate:value":e[12]||(e[12]=n=>a.celular=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[37]||(e[37]=i("label",null,"Correo",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese el correo electrónico"},{type:"email",message:"Por favor ingrese un correo electrónico válido"}]},{default:o(()=>[l(u,{value:a.email,"onUpdate:value":e[13]||(e[13]=n=>a.email=n)},{prefix:o(()=>[l(g(O))]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[40]||(e[40]=i("label",null,"Estado Civil",-1)),l(d,null,{default:o(()=>[l(P,{value:a.estado_civil,"onUpdate:value":e[14]||(e[14]=n=>a.estado_civil=n)},{default:o(()=>[l(f,{value:"1"},{default:o(()=>e[38]||(e[38]=[p("Soltero")])),_:1}),l(f,{value:"2"},{default:o(()=>e[39]||(e[39]=[p("Casado")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[41]||(e[41]=i("label",null,"Dirección",-1)),l(d,{rules:[{required:!0,message:"Por favor ingrese la dirección"}]},{default:o(()=>[l(u,{value:a.direccion,"onUpdate:value":e[15]||(e[15]=n=>a.direccion=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[l(d,null,{default:o(()=>[e[42]||(e[42]=i("label",null,"Año egreso",-1)),l(u,{value:a.anio_egreso,"onUpdate:value":e[16]||(e[16]=n=>a.anio_egreso=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[43]||(e[43]=i("label",null,"Observaciones",-1)),l(d,null,{default:o(()=>[l(u,{value:a.observaciones,"onUpdate:value":e[17]||(e[17]=n=>a.observaciones=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:8,lg:6},{default:o(()=>[e[44]||(e[44]=i("label",null,"Colegio",-1)),l(d,null,{default:o(()=>[l(u,{value:a.id_colegio,"onUpdate:value":e[18]||(e[18]=n=>a.id_colegio=n)},{prefix:o(()=>[l(r)]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),l(I,null,{default:o(()=>[l(s,null,{default:o(()=>[i("div",Ie,[l(b,{onClick:e[19]||(e[19]=n=>_.value=!1)},{default:o(()=>e[45]||(e[45]=[p(" Cancelar ")])),_:1}),l(b,{type:"primary",onClick:j},{default:o(()=>e[46]||(e[46]=[p("Guardar")])),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["visible"])])]),_:1})],64)}}};export{Ae as default};
