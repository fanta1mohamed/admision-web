import{r as f,J as ie,e as R,D as de,o as r,c as b,a as t,u as k,w as l,F as V,y as A,Z as ue,d as a,b as i,t as D,E as g,f as w,n as re,B as pe,I as me,N as ve,g as _e,T as fe,U as ce,S as ge,j as xe,k as ye,l as be,V as ke,p as we,m as Ce,q as Ie,W as De,X as Se,M as Ue,_ as Ne,H as Ae,h as Ee,i as Oe}from"./app-2841df9f.js";import{_ as ze}from"./AuthenticatedLayout-0c31d025.js";import{S as je}from"./SaveOutlined-bf8e9ecc.js";import{S as Re}from"./SearchOutlined-0a3efc4b.js";import{E as Ve}from"./EyeOutlined-619dd56d.js";import{F as $e}from"./FormOutlined-34e1d126.js";import{D as Me}from"./DeleteOutlined-328a0442.js";import"./logotiny-c4b525af.js";import"./Header-52d8cece.js";import"./AntdIcon-c47c0858.js";import"./DownOutlined-d04aec9a.js";/* empty css                                                            */const Te={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4"},Fe={class:"mr-3"},Be={class:"flex justify-between",style:{position:"relative"}},qe={class:"mr-2",style:{position:"absolute",left:"8px",top:"3px"}},Ke={style:{width:"100%","margin-top":"-5px"}},Ye={style:{"font-weight":"bold","font-size":"1.2rem"}},He={class:"flex justify-end",style:{}},Ge={key:0},Pe={key:1},Xe={class:"flex justify-end"},Je={style:{"font-size":"1rem","font-weight":"bold"}},Le={key:1,style:{"font-size":"0.95rem"}},We={class:"mt-2 flex justify-end"},Ze={class:"ml-2"},mt={__name:"Administrativo",setup(Qe){const x=f(!1),$=f("1"),E=f([]),M=f(null),y=f(10),S=f(""),U=f(1),T=f(),n=ie({id:null,tipo_doc:1,nro_doc:"",codigo:"",nombres:"",paterno:"",materno:"",condicion:"",dependencia:null,sexo:1,direccion:"",fec_nac:"",observacion:"",estado:!0}),F=s=>{n.nro_doc=s.target.value.replace(/\D/g,"")},Y=async()=>{try{const s=await T.value.validateFields(),e=await A.post("save-administrativo",n);e.status===202?console.log(e.data.errors):(c(),O("success",e.data.titulo,e.data.mensaje),x.value=!1,N())}catch(s){console.error(s)}},c=async()=>{let s=await A.post("get-administrativos?page="+U.value,{term:S.value,paginashoja:y.value});E.value=s.data.datos.data,M.value=s.data.datos.total},H=s=>{A.post("eliminar-administrativo",{id:s.id}).then(e=>{c(),O("warning",e.data.titulo,e.data.mensaje)})};f({id:null,codigo:"",id_posulante:"",id_programa:"",id_modalidad:"",estado:!0,observacion:""});const G=(s,e)=>{let m={id_postulante:s,sexo:e};A.post("actualizar-sexo-administrativo",m).then(v=>{c(),N(),O("success",v.data.titulo,v.data.mensaje)})},O=(s,e,m)=>{re[s]({message:e,description:m})},P=()=>{N(),x.value=!0},X=()=>{x.value=!1,N()},B=s=>{n.id=s.id,n.tipo_doc=1,n.nro_doc=s.dni,n.codigo=s.codigo,n.nombres=s.nombres,n.paterno=s.paterno,n.materno=s.materno,n.condicion=s.condicion,n.dependencia=s.dependencia,n.sexo=parseInt(s.sexo),n.direccion=s.direccion,n.fec_nac=s.fec_nac,n.observacion=s.observacion,s.estado===1?n.estado=!0:n.estado=!1,x.value=!0},N=()=>{n.id=null,n.tipo_doc=1,n.nro_doc=null,n.codigo=null,n.nombres=null,n.paterno=null,n.materno=null,n.condicion=null,n.dependencia=null,n.sexo=1,n.direccion=null,n.fec_nac=null,n.observacion=null,n.estado=!0};R(U,(s,e)=>{c()}),R(S,(s,e)=>{c()}),R(y,(s,e)=>{c()});const J=[{title:"DNI",dataIndex:"dni",align:"center",width:"90px"},{title:"Codigo",dataIndex:"codigo",align:"center"},{title:"Administrativo",dataIndex:"nombres"},{title:"Sexo",dataIndex:"sexo",align:"center"},{title:"Dependencia",dataIndex:"dependencia_name"},{title:"Condición",dataIndex:"tipo_empleo",align:"center"},{title:"Estado",dataIndex:"estado",align:"center"},{title:"Acciones",dataIndex:"acciones",width:"160px",align:"center"}];return c(),(s,e)=>{const m=pe,v=me,L=de("row"),W=ve,q=_e,K=fe,Z=ce,d=ge,C=xe,_=ye,u=be,Q=ke,h=we,z=Ce,ee=Ie,te=De,le=Se,ne=Ue,j=Ne,oe=Ae,ae=Ee,se=Oe;return r(),b(V,null,[t(k(ue),{title:"Administrativo"}),t(ze,null,{default:l(()=>[a("div",Te,[t(L,{class:"flex justify-between mb-4"},{default:l(()=>[a("div",Fe,[t(m,{type:"success",onClick:P},{default:l(()=>e[21]||(e[21]=[i("Nuevo")])),_:1})]),a("div",Be,[t(v,{type:"text",placeholder:"Buscar",value:S.value,"onUpdate:value":e[0]||(e[0]=o=>S.value=o),style:{"max-width":"300px","padding-left":"30px"}},null,8,["value"]),a("div",qe,[t(k(Re))])])]),_:1}),t(ne,{visible:x.value,"onUpdate:visible":e[17]||(e[17]=o=>x.value=o),style:{"margin-top":"-40px",width:"100%",display:"flex","justify-content":"center"},footer:!1},{default:l(()=>[a("div",Ke,[a("h1",Ye,D(n.id===null?"Nuevo administrativo":"Editar administrativo"),1)]),t(le,{activeKey:$.value,"onUpdate:activeKey":e[16]||(e[16]=o=>$.value=o),type:"card",size:"small"},{default:l(()=>[t(te,{key:"1",tab:"Datos del Administrativo"},{default:l(()=>[t(z,{style:{"max-width":"1000px",display:"flex","justify-content":"center"}},{default:l(()=>[t(u,{span:24},{default:l(()=>[t(ee,{ref_key:"formDatos",ref:T,name:"form",model:n,rules:s.formRules},{default:l(()=>[t(z,{gutter:16},{default:l(()=>[t(u,{xs:24,sm:12,md:24,lg:24},{default:l(()=>[a("div",He,[a("div",null,[e[22]||(e[22]=a("label",null,"Estado",-1)),a("div",null,[t(W,{checked:n.estado,"onUpdate:checked":e[1]||(e[1]=o=>n.estado=o)},null,8,["checked"])])]),t(q,{type:"vertical",style:{height:"60px"}}),a("div",null,[e[25]||(e[25]=a("label",null,"Sexo",-1)),a("div",null,[t(Z,{value:n.sexo,"onUpdate:value":e[2]||(e[2]=o=>n.sexo=o),name:"radioGroup"},{default:l(()=>[t(K,{value:1},{default:l(()=>e[23]||(e[23]=[i("M")])),_:1}),t(K,{value:2},{default:l(()=>e[24]||(e[24]=[i("F")])),_:1})]),_:1},8,["value"])])]),t(q,{type:"vertical",style:{height:"60px"}}),a("div",null,[e[28]||(e[28]=a("label",null,"Tipo Doc",-1)),t(_,{name:"tipo_doc",rules:[{required:!0,message:"Escoja el tipo",trigger:"change"}]},{default:l(()=>[a("div",null,[t(C,{value:n.tipo_doc,"onUpdate:value":e[3]||(e[3]=o=>n.tipo_doc=o),style:{width:"120px"}},{default:l(()=>[t(d,{value:1},{default:l(()=>e[26]||(e[26]=[i("DNI")])),_:1}),t(d,{value:2},{default:l(()=>e[27]||(e[27]=[i("Carnet. Ext")])),_:1})]),_:1},8,["value"])])]),_:1})])])]),_:1}),t(u,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[n.tipo_doc===1?(r(),b("label",Ge,e[29]||(e[29]=[i("DNI "),a("span",{style:{color:"red"}},"*",-1)]))):(r(),b("label",Pe,"N° CARNET EXT.")),t(_,{name:"nro_doc",rules:[{required:!0,message:"Ingrese el N° de documento"},{min:8,message:"El dni debe tener 8 digitos",trigger:"blur"}]},{default:l(()=>[n.tipo_doc===1?(r(),g(v,{key:0,value:n.nro_doc,"onUpdate:value":e[4]||(e[4]=o=>n.nro_doc=o),onInput:F,maxlength:8},null,8,["value"])):(r(),g(v,{key:1,value:n.nro_doc,"onUpdate:value":e[5]||(e[5]=o=>n.nro_doc=o),onInput:F,maxlength:12},null,8,["value"]))]),_:1})]),_:1}),t(u,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[e[30]||(e[30]=a("label",null,"Codigo",-1)),t(_,null,{default:l(()=>[t(v,{value:n.codigo,"onUpdate:value":e[6]||(e[6]=o=>n.codigo=o)},null,8,["value"])]),_:1})]),_:1}),t(u,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[e[31]||(e[31]=a("label",null,[i("Nombres "),a("span",{style:{color:"red"}},"*")],-1)),t(_,{name:"nombres",rules:[{required:!0,message:"Ingrese los nombres"}]},{default:l(()=>[t(v,{value:n.nombres,"onUpdate:value":e[7]||(e[7]=o=>n.nombres=o)},null,8,["value"])]),_:1})]),_:1}),t(u,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[e[32]||(e[32]=a("label",null,[i("Ap. Paterno "),a("span",{style:{color:"red"}},"*")],-1)),t(_,{name:"paterno",rules:[{required:!0,message:"Ingrese el primer apellido"}]},{default:l(()=>[t(v,{value:n.paterno,"onUpdate:value":e[8]||(e[8]=o=>n.paterno=o)},null,8,["value"])]),_:1})]),_:1}),t(u,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[e[33]||(e[33]=a("label",null,"Ap. Materno",-1)),t(_,null,{default:l(()=>[t(v,{value:n.materno,"onUpdate:value":e[9]||(e[9]=o=>n.materno=o)},null,8,["value"])]),_:1})]),_:1}),t(u,{xs:24,sm:12,md:8,lg:8},{default:l(()=>[e[39]||(e[39]=a("label",null,[i("Condición "),a("span",{style:{color:"red"}},"*")],-1)),t(_,{name:"condicion",rules:[{required:!0,message:"Ingrese la condición del administrativo"}]},{default:l(()=>[t(C,{value:n.condicion,"onUpdate:value":e[10]||(e[10]=o=>n.condicion=o),style:{width:"100%"}},{default:l(()=>[t(d,{value:1},{default:l(()=>e[34]||(e[34]=[i("NOMBRADO")])),_:1}),t(d,{value:2},{default:l(()=>e[35]||(e[35]=[i("CONTRATADO")])),_:1}),t(d,{value:3},{default:l(()=>e[36]||(e[36]=[i("CAS")])),_:1}),t(d,{value:4},{default:l(()=>e[37]||(e[37]=[i("LOCACIÓN")])),_:1}),t(d,{value:5},{default:l(()=>e[38]||(e[38]=[i("R. H.")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(u,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[e[43]||(e[43]=a("label",null,[i("Dependencia "),a("span",{style:{color:"red"}},"*")],-1)),t(_,{name:"dependencia",rules:[{required:!0,message:"Seleccione la dependencia"}]},{default:l(()=>[t(C,{value:n.dependencia,"onUpdate:value":e[11]||(e[11]=o=>n.dependencia=o),placeholder:"Seleccionar dependencia"},{default:l(()=>[t(d,{value:1},{default:l(()=>e[40]||(e[40]=[i("RECTORADO")])),_:1}),t(d,{value:2},{default:l(()=>e[41]||(e[41]=[i("VICERRECTORADO")])),_:1}),t(d,{value:3},{default:l(()=>e[42]||(e[42]=[i("DIRECCIÓN DE ADMISIÓN")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(u,{xs:24,sm:12,md:16,lg:18},{default:l(()=>[e[44]||(e[44]=a("label",null,"Dirección",-1)),t(_,null,{default:l(()=>[t(v,{value:n.direccion,"onUpdate:value":e[12]||(e[12]=o=>n.direccion=o)},null,8,["value"])]),_:1})]),_:1}),t(u,{xs:24,sm:12,md:8,lg:6},{default:l(()=>[e[45]||(e[45]=a("label",null,"Fec. Nacimiento",-1)),t(_,null,{default:l(()=>[t(Q,{style:{width:"100%"},placeholder:"Seleccionar fec. nacimiento",value:n.fec_nac,"onUpdate:value":e[13]||(e[13]=o=>n.fec_nac=o),format:"DD/MM/YYYY"},null,8,["value"])]),_:1})]),_:1}),t(u,{xs:24,sm:12,md:24,lg:24},{default:l(()=>[e[46]||(e[46]=a("label",null,"Observaciones",-1)),t(_,null,{default:l(()=>[t(h,{value:n.observacion,"onUpdate:value":e[14]||(e[14]=o=>n.observacion=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(z,null,{default:l(()=>[t(u,{span:24},{default:l(()=>[a("div",Xe,[t(m,{class:"mr-4",onClick:e[15]||(e[15]=o=>X())},{default:l(()=>e[47]||(e[47]=[i(" Cancelar ")])),_:1}),t(m,{type:"primary",onClick:Y},{default:l(()=>e[48]||(e[48]=[i("Guardar")])),_:1})])]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1},8,["visible"]),t(ae,{columns:J,"data-source":E.value,pagination:!1,size:"small"},{bodyCell:l(({column:o,index:he,record:p})=>[o.dataIndex==="dni"?(r(),g(j,{key:0,color:"#476175",style:{"padding-top":"3px"}},{default:l(()=>[a("span",Je,D(p.dni),1)]),_:2},1024)):w("",!0),o.dataIndex==="nombres"?(r(),b("span",Le,D(p.paterno)+" "+D(p.materno)+", "+D(p.nombres),1)):w("",!0),o.dataIndex==="sexo"?(r(),g(C,{key:2,ref:"select",value:p.sexo,"onUpdate:value":I=>p.sexo=I,placeholder:"Seleccionar",style:{width:"60px"}},{default:l(()=>[t(d,{value:"1"},{default:l(()=>e[49]||(e[49]=[a("span",{style:{color:"blue"}},"M",-1)])),_:1}),t(d,{value:"2"},{default:l(()=>e[50]||(e[50]=[a("span",{style:{color:"red"}},"F",-1)])),_:1})]),_:2},1032,["value","onUpdate:value"])):w("",!0),o.dataIndex==="estado"?(r(),b(V,{key:3},[p.estado===1?(r(),g(j,{key:0,color:"cyan"},{default:l(()=>e[51]||(e[51]=[i("Habilitado")])),_:1})):(r(),g(j,{key:1,color:"purple"},{default:l(()=>e[52]||(e[52]=[i("Desabilitado")])),_:1}))],64)):w("",!0),o.dataIndex==="acciones"?(r(),b(V,{key:4},[t(m,{class:"mr-1",onClick:I=>B(p),style:{color:"#006d89"},size:"small"},{icon:l(()=>[t(k(Ve))]),_:2},1032,["onClick"]),t(m,{type:"success",class:"mr-1",style:{color:"#409866"},onClick:I=>G(p.id,p.sexo),size:"small"},{icon:l(()=>[t(k(je))]),_:2},1032,["onClick"]),t(m,{class:"mr-1",onClick:I=>B(p),style:{color:"blue"},size:"small"},{icon:l(()=>[t(k($e))]),_:2},1032,["onClick"]),E.value.length?(r(),g(oe,{key:0,title:"¿Seguro de eliminar?","ok-text":"Si","cancel-text":"No",onConfirm:I=>H(p)},{default:l(()=>[t(m,{shape:"",size:"small",style:{color:"crimson"}},{icon:l(()=>[t(k(Me))]),_:1})]),_:2},1032,["onConfirm"])):w("",!0)],64)):w("",!0)]),_:1},8,["data-source"]),a("div",We,[t(se,{current:U.value,"onUpdate:current":e[18]||(e[18]=o=>U.value=o),total:M.value,pageSize:y.value,"onUpdate:pageSize":e[19]||(e[19]=o=>y.value=o),"show-less-items":""},null,8,["current","total","pageSize"]),a("div",Ze,[t(C,{value:y.value,"onUpdate:value":e[20]||(e[20]=o=>y.value=o),placeholder:"Seleccionar dependencia"},{default:l(()=>[t(d,{value:10},{default:l(()=>e[53]||(e[53]=[i("10")])),_:1}),t(d,{value:20},{default:l(()=>e[54]||(e[54]=[i("20")])),_:1}),t(d,{value:100},{default:l(()=>e[55]||(e[55]=[i("100")])),_:1})]),_:1},8,["value"])])])])]),_:1})],64)}}};export{mt as default};
